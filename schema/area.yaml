$schema: 'https://json-schema.org/draft/2020-12/schema'
title: Area
description: An area in the room
type: object
required:
  - area_connections
unevaluatedProperties: false
additionalProperties: false
properties:
  area_connections:
    description: A list of connections this area possesses
    type: object
    unevaluatedProperties: false
    additionalProperties:
      description: An area connection
      $ref: ./logic.yaml

  entrances:
    description: A list of entrances that lead to other rooms
    type: object
    minProperties: 1
    unevaluatedProperties: false
    additionalProperties:
      description: An entrance
      type: object
      additionalProperties: false
      required:
        - to
      properties:
        lose:
          description: Lose an item in the process of taking this entrance
          type: array
          minItems: 1
          items:
            enum:
              - Carryables
              - Jester Boots
        underwater:
          type: boolean
        to:
          type: array
          minItems: 2
          maxItems: 2
          items:
            type: string
        rule:
          $ref: ./logic.yaml

  locations:
    description: A list of locations that can be randomized
    type: object
    minProperties: 1
    additionalProperties: false
    unevaluatedProperties: false
    properties:
      carryables:
        type: array
        minItems: 1
        items:
          anyOf:
            - const: Jester Boots
            - const: Apple
            - const: Potion
            - const: Bubble Conch
            - const: Sage's Gloves
            - const: Shelnert's Fish
            - const: Mr. Kerrington's Wings
            - const: Lady Opal's Head

      eggs:
        type: object
        minProperties: 1
        unevaluatedProperties: false
        additionalProperties:
          $ref: ./logic.yaml

      events:
        type: object
        minProperties: 1
        unevaluatedProperties: false
        additionalProperties:
          $ref: ./logic.yaml
        # $ref: ./_generated_eventlocation.yaml

      cards:
        type: object
        minProperties: 1
        unevaluatedProperties: false
        additionalProperties:
          $ref: ./logic.yaml

      abilities:
        type: object
        minProperties: 1
        unevaluatedProperties: false
        additionalProperties:
          $ref: ./logic.yaml

      shrooms:
        type: object
        minProperties: 1
        unevaluatedProperties: false
        additionalProperties:
          type: object
          properties:
            count:
              type: number
              minimum: 1
            rule:
              $ref: ./logic.yaml
          required:
            - count
