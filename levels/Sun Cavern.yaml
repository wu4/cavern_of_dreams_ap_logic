contains:
  eggs: 2
  cards: 1
  shrooms: 18

areas:
  Start:
    area_connections:
      Armada Lobby Entrance:
        or:
          - and:
            - ability: High Jump
            - or:
              - ability: Bubble
              - and:
                - movement: 2
                - ability: Sprint

          - ability: Dive
          - ability: Wings
          - ability: Flight

          - tech: super_bounce
          - tech: bubble_jump
          - tech: jester_boots_anywhere

      Mighty Wall Ledge:
        or:
          - ability: Climb

          - comment: Bounce off of shroom
            ability: Dive

          - comment: Double-jump up various pieces of geometry
            ability: Grounded Attack

          - comment: Tailwhip-hijump up various pieces of geometry
            and:
            - ability: Aerial Attack
            - ability: High Jump

      Waterfall Ledge:
        or:
          - ability: Flight

          - tech: super_bounce
          - tech: jester_boots_anywhere

      Ducklings Ledge:
        or:
          - ability: Dive
          - and:
            - ability: Roll
            - or:
              - ability: Sprint
              - ability: Aerial Attack
          - ability: Wings

          - tech: bubble_jump

      Ducklings Doorway:
        or:
          - comment: >
              Very precise use of bubble hover and momentum to land on the leaf
              from the right gem
            and:
            - movement: 3
            - ability: Bubble

          - comment: Clever use of wings and riding up gem geometry
            and:
              - movement: 2
              - ability: Wings

      Moon Cavern Heart Door:
        ability: Swim

    entrances:
      Lostleaf Lobby Door:
        to:
          - Lostleaf Lobby
          - Sun Cavern Door
        rule:
          event: Mighty Wall Toppled

    locations:
      abilities:
        Attack:
          has_eggs: 1
        Wings:
          has_eggs: 6
        Dive:
          has_eggs: 12
        Bubble:
          has_eggs: 24
        Flight:
          has_eggs: 40

      cards:
        Air Vent: null

      shrooms:
        Vine Ledge:
          count: 2
          rule:
            or:
              - ability: Climb
              - tech: super_bounce
              - tech: bubble_jump

        High Jump Ledge:
          count: 2
          rule:
            or:
              - ability: High Jump
              - ability: Flight
              - tech: super_bounce
              - tech: jester_boots_anywhere
              - tech: bubble_jump

        Tail Spin Ledge:
          count: 2
          rule:
            or:
              - ability: High Jump
              - ability: Roll
              - ability: Bubble
              - ability: Wings

              - tech: super_bounce
              - tech: jester_boots_anywhere

        Mighty Wall Ground:
          count: 4

  Mighty Wall Ledge:
    area_connections:
      Lower: null

    locations:
      events:
        Beat Mighty Wall:
          whackable:
            - attack

      eggs:
        Mighty Wall: null

      shrooms:
        Mighty Wall Egg Ledge:
          count: 3

  Armada Lobby Entrance:
    area_connections:
      Start: null

    entrances:
      Airborne Armada Lobby Door:
        to:
          - Airborne Armada Lobby
          - Sun Cavern Door

    locations:
      shrooms:
        Stump:
          count: 3

  Waterfall Ledge:
    area_connections:
      Start: null

      Ducklings Doorway:
        comment: >
          Making it to the Ducklings Doorway ledge is barely possible via smart
          use of floating from the Waterfall Ledge, no high jump necessary
        and:
          - movement: 2
          - or:
            - ability: Bubble
            - ability: Wings

    entrances:
      Lostleaf Ducklings Door - Upper:
        to:
          - Lostleaf Lake
          - Ducklings Door - Upper

    locations:
      eggs:
        Waterfall: null

  Ducklings Ledge:
    area_connections:
      Start: null
      Ducklings Doorway:
        obstacle: high_jump

    locations:
      shrooms:
        Ducklings Ledge:
          count: 2

  Ducklings Doorway:
    area_connections:
      Waterfall Lower Platform: null

    entrances:
      Lostleaf Ducklings Door - Lower:
        to:
          - Lostleaf Lake
          - Ducklings Door - Lower

  Moon Cavern Heart Door:
    area_connections:
      Start:
        ability: Swim

    entrances:
      Moon Cavern Heart Door:
        to:
          - Moon Cavern
          - Sun Cavern Door
        rule:
          event: Open Moon Cavern Heart Door

    locations:
      events:
        Moon Cavern Heart Door:
          and:
            - has_hearts: 1
            - whackable:
              - attack