# TODO: JBA

contains:
  shrooms: 12
  cards: 1
  eggs: 1

areas:
  Start:
    area_connections:
      Underwater:
        ability: Swim

      Ledges:
        or:
          - comment: Hijump double-jump followed by hover
            and:
              - ability: Grounded Attack
              - ability: High Jump
              - ability: Hover
          - and:
            - ability: Double Jump
            - ability: Hover
          - tech: super_bounce
          - tech: bubble_jump
          - comment: The egg iceberg can be used as a moving platform
            event: Palace Lobby Whirlpool Active

    entrances:
      Moon Cavern Door:
        to:
          - Moon Cavern
          - Palace Lobby Door

  Palace Entry Platform:
    area_connections:
      Ledges:
        or:
          - event: Palace Lobby Whirlpool Active
          - ability: Hover
          - and:
            - ability: Bubble
            - or:
              - ability: Sprint
              - ability: Dive
              - and:
                - tech: tail_jump
                - or:
                  - ability: Grounded Attack
                  - ability: Aerial Attack
          - comment: Hijump bubble shot float from the stationary iceberg
            and:
              - tech: bubble_jump
              - ability: High Jump
              - ability: Bubble
          - comment: Speedy roll launch
            and:
              - ability: Roll
              - ability: Aerial Attack

    entrances:
      Prismic Palace Door:
        to:
          - Prismic Palace
          - Palace Lobby Door

  Ledges:
    area_connections:
      Start:
        or:
          - ability: Hover
          - and:
            - ability: Roll
            - ability: Aerial Attack
          - and:
            - ability: Bubble
            - or:
              - ability: High Jump
              - ability: Sprint
              - ability: Dive
              - and:
                - tech: tail_jump
                - or:
                  - ability: Grounded Attack
                  - ability: Aerial Attack

      Palace Entry Platform:
        or:
          - event: Palace Lobby Faucet Running
          - and:
            - ability: Hover
            - or:
              - ability: Double Jump
              - ability: Dive
              - and:
                - movement: 2
                - ability: High Jump
          - comment: Leap from the extended ledge onto the tall iceberg
            and:
            - event: Palace Lobby Whirlpool Active
            - or:
              - and:
                - movement: 3
                - ability: Dive
              - ability: Aerial Attack
              - ability: Grounded Attack
    
    locations:
      shrooms:
        Ledges:
          count: 6

  Underwater:
    area_connections:
      Start: null

      Palace Entry Platform:
        or:
          - ability: Double Jump
          - and:
            - ability: Swim
            - ability: Sprint

      Ledges:
        or:
          - ability: Double Jump
          - and:
            - ability: Swim
            - ability: Sprint
    
    locations:
      shrooms:
        Underwater:
          count: 6

      events:
        Palace Lobby Whirlpool Preston:
          null
      
      eggs:
        Submerged:
          null